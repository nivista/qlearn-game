!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/qlearn-game/",r(r.s=0)}([function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.r(t);Object.freeze({HUMAN_PLAY:"Human Play",BOT_PLAY:"Bot Play",BOT_TRAIN:"Bot Train"});var a=function(e,t,r,a,o){var c=Math.random(),i=t;c<o/2?i++:c<o&&i--,i%=4;var l=r.slice();switch(i){case 0:l[1]--;break;case 1:l[0]--;break;case 2:l[1]++;break;case 3:l[0]++}(l[0]<0||l[0]>=e.length||l[1]<0||l[1]>=e[0].length)&&(l=r);var u,f=a,s=!1;switch(e[l[0]][l[1]].type){case"normal":u=Math.max.apply(Math,n(e[l[0]][l[1]].qVals));break;case"wall":l=r,u=Math.max.apply(Math,n(e[l[0]][l[1]].qVals));break;case"reward":f+=10,s=!0;break;case"cost":f+=-10,s=!0}return s&&(l=[0,0],u=0),{nextLoc:l,newQ:.999*e[r[0]][r[1]].qVals[t]+.001*(f+.999*u),changeInReward:f,gameover:s}};function o(e,t,r){if(Math.random()<r){var a=e[t[0]][t[1]],o=Math.max.apply(Math,n(a.qVals)),c=[];return a.qVals.forEach((function(e,t){e===o&&c.push(t)})),c[Math.floor(Math.random()*c.length)]}return Math.floor(4*Math.random())}onmessage=function(e){if(e){var t=e.data,r=t.grid,n=t.agent,c=t.costOfLiving,i=t.failRate;r[n[0]][n[1]].agent=!1;for(var l=0;l<1e7;l++){var u=o(r,n,.8),f=a(r,u,n,c,i),s=f.nextLoc,p=f.newQ;r[n[0]][n[1]].qVals[u]=p,n=s}postMessage(r)}}}]);
//# sourceMappingURL=cfb6bf3bdc9c9c886b7f.worker.js.map